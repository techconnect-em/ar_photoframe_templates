# AGENTS.md

本リポジトリは **ARフォトフレームのテンプレ集** です。  
受託制作では、要件に合うテンプレを選んで **フォルダごとコピー → 素材差し替え → デプロイ** する運用を想定しています。

---

## 最重要ルール（AIエージェント向け）

1. **テンプレはフォルダ内で自己完結**させてください（共通化しません）。  
   - `common-assets/` や共通JSへの統合は行わないでください。
2. 変更対象が指定されたら、**そのテンプレフォルダ配下だけ**を編集してください。  
   - 例：`face-crown/` を作る時は `face_basic/` を壊さない。
3. **ビルドツール導入は禁止**です。素の `HTML/CSS/JavaScript` のみで完結させてください。
4. 既存UIのDOM ID（`#camera` など）は **変更しないでください**（main.jsが直参照しています）。  
   - 追加する場合はIDを新規追加し、必要ならこのAGENTS.mdに追記してください。
5. 新機能で画面に重ねる要素（王冠/メダル/トロフィー等）は、**プレビュー表示だけでなく撮影画像にも合成**される必要があります。  
   - つまり、**Canvas合成（撮影）にも同じ位置計算で描画**してください。

---

## 目的（何を作るリポジトリか）

スマホブラウザ上で動作する **ARフォトフレームWebアプリ**のテンプレを複数管理します。  
カメラ映像に「静止PNG」または「透過フレーム（動画/連番PNG）」を重ね、撮影・保存・共有まで行います。

テンプレ例：
- `face_basic`：フレーム重ね＋撮影（ベース）
- `face-crown`：顔認識＋王冠PNG追従
- `pose-medal`：体（肩）認識＋メダルPNG追従
- `hand-trophy`：手認識＋トロフィーPNG追従

---

## 推奨ディレクトリ構造（テンプレ集）

> ※現在 `face_basic/` をルート直下に置いている場合も、この考え方でOKです。  
> 将来的に `templates/` 配下に揃える場合も、テンプレ内の構成は同じにしてください。

```txt
project-root/
├── AGENTS.md
├── index.html                  # （任意）テンプレ一覧ページ
└── <template-name>/            # 例: face_basic, face-crown, pose-medal, hand-trophy
    ├── index.html
    ├── main.js
    ├── styles.css
    └── assets/
        ├── frame.png                  # 静止フレーム（9:16）
        ├── frame_alpha.webm           # 透過フレーム（VP9+Alpha）※主にChrome系
        ├── frame_alpha.mp4 or .mov    # （任意）別形式。使うならHTML/JSと一致させる
        └── ios_frame_*.png            # iOS/Safari用 連番PNG（採用している場合）
